class Gradientify{constructor(e){this.gradients=[],this.mainElement=e.element,this.mainGradientIndex=0,this.init=this.init.bind(this),this.createGradientElement=this.createGradientElement.bind(this),this.initialiseInterval=this.initialiseInterval.bind(this),this.makeNewGradientVisible=this.makeNewGradientVisible.bind(this),this.loadJSON=this.loadJSON.bind(this),this.init(e)}init(e){e.gradients.map((i,t)=>{let n=this.createGradientElement({backgroundImage:i,index:t,position:e.fixed,transitionDuration:e.interval});e.fixed&&(this.mainElement.style.overflow="hidden"),this.gradients.push(n),this.mainElement.append(n)}),this.initialiseInterval({interval:e.interval,delay:e.delay})}createGradientElement(e){let i=document.createElement("div");return Object.assign(i.style,{backgroundImage:e.backgroundImage,opacity:e.index===this.mainGradientIndex?1:0,transitionDuration:`${e.transitionDuration/1e3}s`,position:e.fixed?"fixed":"absolute"}),i.classList.add("gradientify-gradient"),i}getPreset(e){console.log("Lets try!"),this.loadJSON(e=>{console.log("whaterelsf"),console.log(e)})}loadJSON(e){var i=new XMLHttpRequest;i.overrideMimeType("application/json"),i.open("GET","./src/presets.json",!0),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&e(i.responseText)},i.send(null)}initialiseInterval(e){this.makeNewGradientVisible(),setInterval(()=>{this.makeNewGradientVisible()},e.interval+e.delay+40)}makeNewGradientVisible(){this.gradients.map((e,i)=>{i===this.mainGradientIndex?e.style.opacity=1:e.style.opacity=0}),this.mainGradientIndex=++this.mainGradientIndex%this.gradients.length}}